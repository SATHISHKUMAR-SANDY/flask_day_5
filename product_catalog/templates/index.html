{% extends 'base.html' %}
{% block content %}
<h2>All Products</h2>
<a href="{{ url_for('add_product') }}" class="btn btn-primary mb-3">+ Add Product</a>

<table class="table table-bordered">
  <thead>
    <tr><th>ID</th><th>Name</th><th>Price</th><th>Stock</th><th>Actions</th></tr>
  </thead>
  <tbody>
  {% for product in products %}
    <tr>
      <td>{{ product.id }}</td>
      <td>{{ product.name }}</td>
      <td>${{ product.price }}</td>
      <td>{{ 'Yes' if product.in_stock else 'No' }}</td>
      <td>
        <a href="{{ url_for('edit_product', product_id=product.id) }}" class="btn btn-sm btn-info">Edit</a>
        <a href="{{ url_for('delete_product', product_id=product.id) }}" class="btn btn-sm btn-danger">Delete</a>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<h3>In-Stock Products</h3>
<ul>
  {% for p in in_stock_products %}
    <li>{{ p.name }} - ${{ p.price }}</li>
  {% else %}
    <li>No in-stock products available.</li>
  {% endfor %}
</ul>
{% endblock %}
